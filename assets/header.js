(()=>{var S=(e,t)=>{let s;return(...c)=>{clearTimeout(s),s=setTimeout(()=>e.apply(void 0,c),t)}},O=e=>requestAnimationFrame(e),D=(e,t)=>{O(()=>{let s=e();O(()=>t(s))})};var T=(e,t={})=>{let c={...{debounceTime:150,element:null,width:!0},...t},n=null,o=window.innerWidth,d=h=>O(()=>e(h)),m=c.debounceTime>0?S(d,c.debounceTime):d,v=()=>{if(!c.width)return!1;let h=window.innerWidth;return h===o?!0:(o=h,!1)},b=h=>{v()||m(h)},y=(h=c.element)=>n||(n=new ResizeObserver(b),h?n.observe(h):n.observe(document.documentElement),n);return{init:y,destroy:()=>{n?.disconnect(),n=null},observe:h=>{n||y(),n?.observe(h)},unobserve:h=>{n?.unobserve(h)},get observer(){return n}}},L=()=>{let e=new Map;return{register:(n,o)=>{if(typeof o=="function")if(e.set(n,o),window.themeCleanup){let d=window.themeCleanup;window.themeCleanup=()=>{o(),d()}}else window[`cleanup${n}`]=o},cleanup:n=>{let o=e.get(n);o&&(o(),e.delete(n))},cleanupAll:()=>{e.forEach((n,o)=>{try{n()}catch{}}),e.clear()},get registered(){return Array.from(e.keys())}}};var E=(e,t,s=document.documentElement)=>{s.style.setProperty(e,t)},k=e=>{if(!e)return{width:0,height:0};let t=e.getBoundingClientRect();return{width:t.width,height:t.height}};var u={selectors:{checkboxes:'input[type="checkbox"]',doc:document.documentElement,header:".header",icons:".header__icons",logo:".header__logo",preview:".preview-bar__container",menu:{container:".header__menu-nav",opener:"#header-opener-menu",label:'label[for="header-opener-menu"]',hasDropdown:".has-dropdown"},search:{container:".search__wrapper",opener:"#header-opener-search",label:'label[for="header-opener-search"]'}},modifier:{active:"active"},cssVars:{headerHeight:"--header-height",previewHeight:"--preview-height",transitionDuration:"--transition-duration"},breakpoint:992,debounceTime:0},q=()=>{let e=new Map,t=new Map([["headerHeight",0],["previewHeight",0]]);return{init:d=>(e.set("doc",u.selectors.doc),e.set("header",d),e.set("preview",document.querySelector(u.selectors.preview)),e.get("header")!==null),get:d=>e.get(d),setCache:(d,m)=>{t.set(d,m)},cleanup:()=>{e.clear(),t.clear()}}},I=e=>{let t=()=>{if(!e.get("header"))return;D(()=>{let n=e.get("header"),o=e.get("preview"),d=k(n),m={height:0};return o&&(m=k(o)),{headerHeight:d.height,previewHeight:m.height}},n=>{let{headerHeight:o,previewHeight:d}=n,m=e.get("doc");E(u.cssVars.headerHeight,`${o}px`,m),e.setCache("headerHeight",o),!(!e.get("preview")||d<=0)&&(E(u.cssVars.previewHeight,`${d}px`,m),e.setCache("previewHeight",d))})};return{calculate:t,recalculate:t}},M=e=>{let t=null;return{init:()=>{e.calculate(),t=T(()=>e.recalculate(),{debounceTime:u.debounceTime}),t.init()},destroy:()=>{t?.destroy(),t=null}}},A=()=>{let e=q(),t=null,s=null,c=()=>{let o=document.querySelector(u.selectors.header);return!o||!e.init(o)?null:(t=I(e),s=M(t),s.init(),n)},n=()=>{s?.destroy(),e?.cleanup(),t=null,s=null};return{init:c,destroy:n}},_=()=>{let e=new Map,t=null,s=null,c=null,n=()=>c&&c.matches,o=()=>{s&&(clearTimeout(s),s=null)},d=()=>{if(t!==null)return t;let r=u.cssVars.transitionDuration,l=getComputedStyle(u.selectors.doc).getPropertyValue(r).trim(),a=0;return l&&(l.endsWith("ms")?a=parseFloat(l):l.endsWith("s")&&(a=parseFloat(l)*1e3)),t=a,a},m=(r,i=!1)=>{let l=`container_${r}`,a=e.get(l);if(a===null)return!1;if(!a){if(a=document.querySelector(r),!a)return e.set(l,null),!1;e.set(l,a)}let p=a.querySelectorAll(u.selectors.checkboxes);if(!p.length)return!1;let f=()=>{p.forEach(w=>{w.checked&&(w.checked=!1)})};if(!i)return f(),!0;let g=d();return setTimeout(f,g),!0},v=(r,i)=>!r||!r.checked?!1:(r.checked=!1,m(i,!0),!0),b=(r,i,l)=>a=>{if(!r||!r.checked)return!1;let p=a.target.closest(i),f=a.target.closest(l),g=a.target===r;if(p||f||g)return!1;v(r,i)},y=()=>{let r=e.get("menuOpener");!r||!r.checked||v(r,u.selectors.menu.container)},C=r=>{r.matches&&y()},H=r=>{if(!n())return;let i=e.get("searchOpener");!i||!i.checked||!r.target.closest(u.selectors.menu.hasDropdown)||v(i,u.selectors.search.container)},x=()=>{if(!n())return;let r=e.get("menuContainer");if(!r)return;let i=r.querySelectorAll(u.selectors.menu.hasDropdown);if(!i.length)return;let l=u.modifier.active,a=Array.from(i);i.forEach(p=>{let f=()=>{o(),a.forEach(w=>{w.classList.remove(l)}),p.classList.add(l)},g=()=>{o(),s=setTimeout(()=>{p.classList.remove(l)},500)};p.addEventListener("mouseenter",f,{passive:!0}),p.addEventListener("mouseleave",g,{passive:!0}),e.has("dropdownHandlers")||e.set("dropdownHandlers",[]),e.get("dropdownHandlers").push({element:p,enter:f,leave:g})})},h=()=>{let r=e.get("dropdownHandlers");r&&(r.forEach(({element:i,enter:l,leave:a})=>{i.removeEventListener("mouseenter",l),i.removeEventListener("mouseleave",a)}),e.delete("dropdownHandlers"))};return{init:()=>{if(e.set("menuOpener",document.querySelector(u.selectors.menu.opener)),e.set("searchOpener",document.querySelector(u.selectors.search.opener)),e.set("menuContainer",document.querySelector(u.selectors.menu.container)),!e.get("menuOpener")&&!e.get("searchOpener"))return!1;let r=b(e.get("menuOpener"),u.selectors.menu.container,u.selectors.menu.label),i=b(e.get("searchOpener"),u.selectors.search.container,u.selectors.search.label),l=p=>{e.get("menuOpener")&&r(p),e.get("searchOpener")&&i(p)};document.addEventListener("click",l,{passive:!0}),c=window.matchMedia(`(min-width: ${u.breakpoint}px)`),c.addEventListener("change",C);let a=e.get("menuContainer");return a&&(a.addEventListener("mouseover",H,{passive:!0}),x()),e.set("clickOutside",l),!0},destroy:()=>{let r=e.get("clickOutside");r&&document.removeEventListener("click",r),c&&(c.removeEventListener("change",C),c=null),o();let i=e.get("menuContainer");i&&(i.removeEventListener("mouseover",H),h()),t=null,e.clear()}}},W=()=>{let e=L(),s=A().init();if(!s)return;e.register("HeaderAPI",s);let c=_();c.init(),e.register("MenuAPI",c.destroy)};W();})();
